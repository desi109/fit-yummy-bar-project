{"version":3,"file":"primeng-ripple.umd.js","sources":["../../src/app/components/ripple/ripple.ts","../../src/app/components/ripple/primeng-ripple.ts"],"names":["DomHandler","Directive","ElementRef","NgZone","PrimeNGConfig","Optional","NgModule","CommonModule"],"mappings":"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","sourcesContent":["import { NgModule, Directive, AfterViewInit, ElementRef, NgZone, OnDestroy, Optional } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DomHandler } from 'primeng/dom';\nimport { PrimeNGConfig } from 'primeng/api';\n\n@Directive({\n    selector: '[pRipple]',\n    host: {\n        '[class.p-ripple]': 'true'\n    }\n})\nexport class Ripple implements AfterViewInit, OnDestroy {\n\n    constructor(public el: ElementRef, public zone: NgZone, @Optional() public config: PrimeNGConfig) { }\n\n    animationListener: any;\n\n    mouseDownListener: any;\n\n    ngAfterViewInit() {\n        if (this.config && this.config.ripple) {\n            this.zone.runOutsideAngular(() => {\n                this.create();\n    \n                this.mouseDownListener = this.onMouseDown.bind(this);\n                this.el.nativeElement.addEventListener('mousedown', this.mouseDownListener);\n            });\n        }\n    }\n\n    onMouseDown(event: MouseEvent) {\n        let ink = this.getInk();\n        if (!ink || getComputedStyle(ink, null).display === 'none') {\n            return;\n        }\n    \n        DomHandler.removeClass(ink, 'p-ink-active');\n        if (!DomHandler.getHeight(ink) && !DomHandler.getWidth(ink)) {\n            let d = Math.max(DomHandler.getOuterWidth(this.el.nativeElement), DomHandler.getOuterHeight(this.el.nativeElement));\n            ink.style.height = d + 'px';\n            ink.style.width = d + 'px';\n        }\n    \n        let offset = DomHandler.getOffset(this.el.nativeElement);\n        let x = event.pageX - offset.left + document.body.scrollTop - DomHandler.getWidth(ink) / 2;\n        let y = event.pageY - offset.top + document.body.scrollLeft - DomHandler.getHeight(ink) / 2;\n    \n        ink.style.top = y + 'px';\n        ink.style.left = x + 'px';\n        DomHandler.addClass(ink, 'p-ink-active');\n    }\n    \n    getInk() {\n        for (let i = 0; i < this.el.nativeElement.children.length; i++) {\n            if (this.el.nativeElement.children[i].className.indexOf('p-ink') !== -1) {\n                return this.el.nativeElement.children[i];\n            }\n        }\n        return null;\n    }\n\n    resetInk() {\n        let ink = this.getInk();\n        if (ink) {\n            DomHandler.removeClass(ink, 'p-ink-active');\n        }\n    }\n\n    onAnimationEnd(event) {\n        DomHandler.removeClass(event.currentTarget, 'p-ink-active');\n    }\n\n    create() {\n        let ink = document.createElement('span');\n        ink.className = 'p-ink';\n        this.el.nativeElement.appendChild(ink);\n    \n        this.animationListener = this.onAnimationEnd.bind(this);\n        ink.addEventListener('animationend', this.animationListener);\n    }\n\n    remove() {\n        let ink = this.getInk();\n        if (ink) {\n            this.el.nativeElement.removeEventListener('mousedown', this.mouseDownListener);\n            ink.removeEventListener('animationend', this.animationListener);\n            DomHandler.removeElement(ink);\n        }\n    }\n\n    ngOnDestroy() {\n        if (this.config && this.config.ripple) {\n            this.remove();\n        }\n    }\n}\n\n@NgModule({\n    imports: [CommonModule],\n    exports: [Ripple],\n    declarations: [Ripple]\n})\nexport class RippleModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}