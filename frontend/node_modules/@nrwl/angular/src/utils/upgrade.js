"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addUpgradeToPackageJson = void 0;
const versions_1 = require("./versions");
const workspace_1 = require("@nrwl/workspace");
function addUpgradeToPackageJson() {
    return (host, context) => {
        const packageJson = workspace_1.readJsonInTree(host, './package.json');
        const dependencies = {};
        if (!packageJson['dependencies']) {
            packageJson['dependencies'] = dependencies;
        }
        if (!packageJson['dependencies']['@angular/upgrade']) {
            dependencies['@angular/upgrade'] =
                packageJson['dependencies']['@angular/core'];
        }
        if (!packageJson['dependencies']['angular']) {
            dependencies['angular'] = versions_1.angularJsVersion;
        }
        return workspace_1.addDepsToPackageJson(dependencies, {});
    };
}
exports.addUpgradeToPackageJson = addUpgradeToPackageJson;
//# sourceMappingURL=upgrade.js.map