"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const schematics_1 = require("@angular-devkit/schematics");
const workspace_1 = require("@nrwl/workspace");
function default_1() {
    return (host) => {
        const packageJson = workspace_1.readJsonInTree(host, 'package.json');
        if (packageJson.devDependencies['karma']) {
            return schematics_1.noop();
        }
        return schematics_1.chain([
            schematics_1.mergeWith(schematics_1.url('./files/karma')),
            workspace_1.addDepsToPackageJson({}, {
                karma: '~5.0.0',
                'karma-chrome-launcher': '~3.1.0',
                'karma-coverage-istanbul-reporter': '~3.0.2',
                'karma-jasmine': '~4.0.0',
                'karma-jasmine-html-reporter': '^1.5.0',
                'jasmine-core': '~3.6.0',
                'jasmine-spec-reporter': '~5.0.0',
                '@types/jasmine': '~3.5.0',
            }),
        ]);
    };
}
exports.default = default_1;
//# sourceMappingURL=karma.js.map