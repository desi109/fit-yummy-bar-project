"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const schematics_1 = require("@angular-devkit/schematics");
const format_files_1 = require("@nrwl/workspace/src/utils/rules/format-files");
const workspace_1 = require("@nrwl/workspace");
function default_1() {
    return schematics_1.chain([
        workspace_1.updateWorkspaceInTree((config) => {
            Object.keys(config.projects).forEach((name) => {
                if (config.projects[name].architect &&
                    config.projects[name].architect.build &&
                    config.projects[name].architect.build.builder ===
                        '@angular-devkit/build-ng-packagr:build') {
                    config.projects[name].architect.build.builder =
                        '@nrwl/angular:package';
                }
            });
            return config;
        }),
        ,
        format_files_1.formatFiles(),
    ]);
}
exports.default = default_1;
//# sourceMappingURL=change-angular-lib-builder.js.map