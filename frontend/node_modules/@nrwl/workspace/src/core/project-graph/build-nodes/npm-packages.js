"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildNpmPackageNodes = void 0;
const stripJsonComments = require("strip-json-comments");
const file_utils_1 = require("../../file-utils");
function buildNpmPackageNodes(ctx, addNode) {
    const packageJson = JSON.parse(stripJsonComments(file_utils_1.defaultFileRead('package.json')));
    const deps = Object.assign(Object.assign({}, packageJson.dependencies), packageJson.devDependencies);
    Object.keys(deps).forEach((d) => {
        addNode({
            type: 'npm',
            name: `npm:${d}`,
            data: {
                version: deps[d],
                packageName: d,
                files: [],
            },
        });
    });
}
exports.buildNpmPackageNodes = buildNpmPackageNodes;
//# sourceMappingURL=npm-packages.js.map